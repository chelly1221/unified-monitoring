@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);

  /* Custom status colors */
  --color-status-ok: var(--status-ok);
  --color-status-warning: var(--status-warning);
  --color-status-critical: var(--status-critical);
  --color-status-offline: var(--status-offline);
  --color-accent-blue: var(--accent-blue);
}

:root {
  --radius: 0.625rem;
  --background: #0a0a0a;
  --foreground: #fafafa;
  --card: #252525;
  --card-foreground: #fafafa;
  --popover: #252525;
  --popover-foreground: #fafafa;
  --primary: #fafafa;
  --primary-foreground: #171717;
  --secondary: #2a2a2a;
  --secondary-foreground: #fafafa;
  --muted: #2a2a2a;
  --muted-foreground: #b4b4b4;
  --accent: #2a2a2a;
  --accent-foreground: #fafafa;
  --destructive: #f87171;
  --border: #333333;
  --input: #2a2a2a;
  --ring: #60a5fa;
  --chart-1: #60a5fa;
  --chart-2: #4ade80;
  --chart-3: #facc15;
  --chart-4: #f87171;
  --chart-5: #c084fc;
  --sidebar: #0a0a0a;
  --sidebar-foreground: #fafafa;
  --sidebar-primary: #60a5fa;
  --sidebar-primary-foreground: #fafafa;
  --sidebar-accent: #252525;
  --sidebar-accent-foreground: #fafafa;
  --sidebar-border: #333333;
  --sidebar-ring: #60a5fa;

  /* Status colors - bright for monitoring visibility */
  --status-ok: #4ade80;
  --status-warning: #facc15;
  --status-critical: #f87171;
  --status-offline: #a1a1aa;
  --accent-blue: #60a5fa;
}

.dark {
  --background: #0a0a0a;
  --foreground: #fafafa;
  --card: #252525;
  --card-foreground: #fafafa;
  --popover: #252525;
  --popover-foreground: #fafafa;
  --primary: #fafafa;
  --primary-foreground: #171717;
  --secondary: #2a2a2a;
  --secondary-foreground: #fafafa;
  --muted: #2a2a2a;
  --muted-foreground: #b4b4b4;
  --accent: #2a2a2a;
  --accent-foreground: #fafafa;
  --destructive: #f87171;
  --border: #333333;
  --input: #2a2a2a;
  --ring: #60a5fa;
  --chart-1: #60a5fa;
  --chart-2: #4ade80;
  --chart-3: #facc15;
  --chart-4: #f87171;
  --chart-5: #c084fc;
  --sidebar: #0a0a0a;
  --sidebar-foreground: #fafafa;
  --sidebar-primary: #60a5fa;
  --sidebar-primary-foreground: #fafafa;
  --sidebar-accent: #252525;
  --sidebar-accent-foreground: #fafafa;
  --sidebar-border: #333333;
  --sidebar-ring: #60a5fa;

  /* Status colors - bright for monitoring visibility */
  --status-ok: #4ade80;
  --status-warning: #facc15;
  --status-critical: #f87171;
  --status-offline: #a1a1aa;
  --accent-blue: #60a5fa;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
  /* Hide number input spinners globally */
  input[type="number"] {
    -moz-appearance: textfield;
    appearance: textfield;
  }
  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    appearance: none;
    margin: 0;
  }
}

/* Custom animations */
@keyframes pulse-border {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }
  50% {
    box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.4);
  }
}

@keyframes status-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-pulse-border {
  animation: pulse-border 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-status-pulse {
  animation: status-pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Tabular numbers for metrics */
.tabular-nums {
  font-variant-numeric: tabular-nums;
}

/* Slow pulse animation for alert area */
@keyframes slow-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

.animate-slow-pulse {
  animation: slow-pulse 2s ease-in-out infinite;
}

/* Modern scrollbar styling */
* {
  scrollbar-width: thin;
  scrollbar-color: #404040 transparent;
}

/* Webkit browsers (Chrome, Safari, Edge) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: #404040;
  border-radius: 4px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
  background: #525252;
  border: 2px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-thumb:active {
  background: #60a5fa;
  border: 2px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-corner {
  background: transparent;
}

/* Hide scrollbar until hover for cleaner look */
.scrollbar-hidden {
  scrollbar-width: none;
}

.scrollbar-hidden::-webkit-scrollbar {
  display: none;
}

.scrollbar-on-hover {
  scrollbar-width: none;
}

.scrollbar-on-hover::-webkit-scrollbar {
  width: 0;
  background: transparent;
}

.scrollbar-on-hover:hover {
  scrollbar-width: thin;
}

.scrollbar-on-hover:hover::-webkit-scrollbar {
  width: 8px;
}

/* Force dialog to appear without fade animation */
[data-slot="dialog-overlay"],
[data-slot="dialog-content"],
[data-radix-dialog-overlay],
[data-radix-dialog-content],
[role="dialog"] {
  opacity: 1 !important;
  animation: none !important;
  --tw-enter-opacity: 1 !important;
  --tw-exit-opacity: 1 !important;
}

/* Fix dialog rendering in fullscreen mode */
:fullscreen [data-slot="dialog-overlay"],
:fullscreen [data-slot="dialog-content"],
:fullscreen [role="dialog"],
:fullscreen::backdrop {
  opacity: 1 !important;
  animation: none !important;
}

/* Ensure dialog portal is above fullscreen backdrop */
[data-radix-portal] {
  position: fixed !important;
  z-index: 9999 !important;
}

/* Orbit animation for system nodes (keeps element upright) */
@keyframes orbit {
  from { transform: rotate(0deg) translateX(var(--orbit-radius)) rotate(0deg); }
  to { transform: rotate(360deg) translateX(var(--orbit-radius)) rotate(-360deg); }
}

/* Orbit animation for planes (rotates with orbit, pointing tangent to flight path) */
@keyframes orbit-plane {
  from { transform: rotate(0deg) translateX(var(--orbit-radius)); }
  to { transform: rotate(360deg) translateX(var(--orbit-radius)); }
}

/* Gentle float animation */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

/* Soft pulse for center */
@keyframes soft-pulse {
  0%, 100% {
    box-shadow: 0 0 30px rgba(34,197,94,0.4), 0 0 60px rgba(34,197,94,0.2);
  }
  50% {
    box-shadow: 0 0 50px rgba(34,197,94,0.6), 0 0 100px rgba(34,197,94,0.3);
  }
}

.animate-soft-pulse {
  animation: soft-pulse 3s ease-in-out infinite;
}

/* Alert animations for single fault display */
@keyframes alert-ring-expand {
  0% {
    transform: translate(-50%, -50%) scale(0.3);
    opacity: 1;
    border-width: 4px;
  }
  100% {
    transform: translate(-50%, -50%) scale(2.5);
    opacity: 0;
    border-width: 1px;
  }
}

@keyframes alert-triangle-float {
  0%, 100% {
    transform: translateY(0) rotate(0deg) scale(1);
    opacity: 0.6;
  }
  25% {
    transform: translateY(-20px) rotate(10deg) scale(1.2);
    opacity: 1;
  }
  50% {
    transform: translateY(-30px) rotate(-5deg) scale(0.9);
    opacity: 0.8;
  }
  75% {
    transform: translateY(-15px) rotate(-10deg) scale(1.1);
    opacity: 1;
  }
}

@keyframes alert-flash {
  0%, 100% {
    opacity: 0.4;
  }
  50% {
    opacity: 1;
  }
}

@keyframes alert-scan {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes alert-pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.5), 0 0 40px rgba(239, 68, 68, 0.3), 0 0 60px rgba(239, 68, 68, 0.1);
  }
  50% {
    box-shadow: 0 0 40px rgba(239, 68, 68, 0.8), 0 0 80px rgba(239, 68, 68, 0.5), 0 0 120px rgba(239, 68, 68, 0.3);
  }
}

@keyframes warning-strobe {
  0%, 18%, 22%, 25%, 53%, 57%, 100% {
    opacity: 0.1;
  }
  20%, 24%, 55% {
    opacity: 1;
  }
}

@keyframes shake {
  0%, 100% { transform: translateX(0) rotate(0deg); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-4px) rotate(-3deg); }
  20%, 40%, 60%, 80% { transform: translateX(4px) rotate(3deg); }
}

@keyframes electric-pulse {
  0%, 100% {
    filter: brightness(1) drop-shadow(0 0 5px currentColor);
  }
  50% {
    filter: brightness(1.5) drop-shadow(0 0 20px currentColor);
  }
}

@keyframes danger-glow {
  0%, 100% {
    box-shadow:
      0 0 30px rgba(239, 68, 68, 0.6),
      0 0 60px rgba(239, 68, 68, 0.4),
      0 0 90px rgba(239, 68, 68, 0.2),
      inset 0 0 30px rgba(255, 255, 255, 0.1);
  }
  50% {
    box-shadow:
      0 0 50px rgba(239, 68, 68, 0.9),
      0 0 100px rgba(239, 68, 68, 0.6),
      0 0 150px rgba(239, 68, 68, 0.4),
      inset 0 0 50px rgba(255, 255, 255, 0.2);
  }
}

@keyframes warning-glow {
  0%, 100% {
    box-shadow:
      0 0 30px rgba(234, 179, 8, 0.6),
      0 0 60px rgba(234, 179, 8, 0.4),
      0 0 90px rgba(234, 179, 8, 0.2),
      inset 0 0 30px rgba(255, 255, 255, 0.1);
  }
  50% {
    box-shadow:
      0 0 50px rgba(234, 179, 8, 0.9),
      0 0 100px rgba(234, 179, 8, 0.6),
      0 0 150px rgba(234, 179, 8, 0.4),
      inset 0 0 50px rgba(255, 255, 255, 0.2);
  }
}

@keyframes spark {
  0%, 100% {
    opacity: 0;
    transform: scale(0) rotate(0deg);
  }
  10% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
  90% {
    opacity: 1;
    transform: scale(1) rotate(180deg);
  }
}

@keyframes radiate {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.8;
  }
  100% {
    transform: translate(-50%, -50%) scale(3);
    opacity: 0;
  }
}

@keyframes text-flicker {
  0%, 100% { opacity: 1; }
  41% { opacity: 1; }
  42% { opacity: 0.8; }
  43% { opacity: 1; }
  45% { opacity: 0.3; }
  46% { opacity: 1; }
}

@keyframes border-chase {
  0% { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

.animate-alert-flash {
  animation: alert-flash 0.5s ease-in-out infinite;
}

.animate-warning-strobe {
  animation: warning-strobe 1.5s linear infinite;
}

.animate-shake {
  animation: shake 0.3s ease-in-out infinite;
}

.animate-electric-pulse {
  animation: electric-pulse 0.8s ease-in-out infinite;
}

.animate-danger-glow {
  animation: danger-glow 1.5s ease-in-out infinite;
}

.animate-warning-glow {
  animation: warning-glow 1.5s ease-in-out infinite;
}

.animate-text-flicker {
  animation: text-flicker 3s linear infinite;
}

/* ===== Sensor Alarm Effects ===== */

/* Fire effect (고온) - flames rising from bottom */
@keyframes flame-rise {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0.8;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100vh) scale(0.3);
    opacity: 0;
  }
}

@keyframes ember-float {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 0.9;
  }
  25% {
    transform: translateY(-25vh) translateX(15px) scale(0.8);
  }
  50% {
    transform: translateY(-50vh) translateX(-10px) scale(0.6);
    opacity: 0.7;
  }
  75% {
    transform: translateY(-75vh) translateX(20px) scale(0.4);
  }
  100% {
    transform: translateY(-100vh) translateX(-5px) scale(0.2);
    opacity: 0;
  }
}

@keyframes fire-glow {
  0%, 100% {
    box-shadow: inset 0 -80px 120px -40px rgba(239, 68, 68, 0.4),
                inset 0 -40px 80px -20px rgba(251, 146, 60, 0.3);
  }
  50% {
    box-shadow: inset 0 -100px 150px -40px rgba(239, 68, 68, 0.6),
                inset 0 -60px 100px -20px rgba(251, 146, 60, 0.5);
  }
}

/* Snow effect (저온) - snowflakes falling */
@keyframes snowfall {
  0% {
    transform: translateY(-20px) translateX(0) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0.8;
  }
  100% {
    transform: translateY(100vh) translateX(var(--snow-drift, 30px)) rotate(360deg);
    opacity: 0;
  }
}

@keyframes frost-pulse {
  0%, 100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.6;
  }
}

@keyframes frost-glow {
  0%, 100% {
    box-shadow: inset 0 0 80px 20px rgba(147, 197, 253, 0.15),
                inset 0 0 40px 10px rgba(219, 234, 254, 0.1);
  }
  50% {
    box-shadow: inset 0 0 120px 30px rgba(147, 197, 253, 0.25),
                inset 0 0 60px 15px rgba(219, 234, 254, 0.2);
  }
}

/* Dry effect (건조) - dust floating */
@keyframes dust-drift {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 0;
  }
  20% {
    opacity: 0.6;
  }
  50% {
    transform: translate(var(--dust-x, 40px), var(--dust-y, -30px)) scale(0.8);
    opacity: 0.8;
  }
  80% {
    opacity: 0.4;
  }
  100% {
    transform: translate(var(--dust-x2, -20px), var(--dust-y2, 20px)) scale(0.5);
    opacity: 0;
  }
}

@keyframes crack-pulse {
  0%, 100% {
    opacity: 0.3;
    stroke-dashoffset: 100;
  }
  50% {
    opacity: 0.7;
    stroke-dashoffset: 0;
  }
}

@keyframes heat-shimmer {
  0%, 100% {
    transform: translateX(-2px) scaleY(1);
    opacity: 0.3;
  }
  50% {
    transform: translateX(2px) scaleY(1.02);
    opacity: 0.5;
  }
}

/* Rain effect (다습) - raindrops falling fast */
@keyframes rainfall {
  0% {
    transform: translateY(-20px) translateX(var(--rain-drift, -5px));
    opacity: 0;
  }
  10% {
    opacity: 0.7;
  }
  90% {
    opacity: 0.5;
  }
  100% {
    transform: translateY(100vh) translateX(var(--rain-drift, -5px));
    opacity: 0;
  }
}

@keyframes water-ripple {
  0% {
    transform: scale(0);
    opacity: 0.6;
  }
  100% {
    transform: scale(3);
    opacity: 0;
  }
}

@keyframes mist-drift {
  0%, 100% {
    opacity: 0.1;
    transform: translateX(0);
  }
  50% {
    opacity: 0.25;
    transform: translateX(30px);
  }
}
